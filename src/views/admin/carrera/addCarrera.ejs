<%- include('../../global/header.ejs') %>

<div class="container py-5" style="max-width: 360px;">
  <form>
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input
        type="text"
        id="nombre"
        name="nombre"
        class="form-control"
        required
      />
    </div>

    <div class="form-check">
      <input
        type="radio"
        id="semestral"
        name="periodo"
        value="semestral"
        class="form-check-input"
      />
      <label class="form-check-label" for="semestral">Semestral</label>
    </div>

    <div class="form-check">
      <input
        type="radio"
        id="anual"
        name="periodo"
        value="anual"
        class="form-check-input"
      />
      <label class="form-check-label" for="anual">Anual</label>
    </div>

    <div class="form-check">
      <input
        type="checkbox"
        id="estado"
        name="estado"
        class="form-check-input"
      />
      <label class="form-check-label" for="estado">Estado</label>
    </div>

    <div class="form-group">
      <label for="facultad">Facultad:</label>
      <select id="facultad" name="facultad" class="form-control">
        <option value="">Seleccione una facultad</option>
        <option value="Educación">Educación</option>
        <option value="Artes y Humanidades">Artes y Humanidades</option>
        <option value="Ciencias Sociales, Administración y Derecho"
          >Ciencias Sociales, Administración y Derecho</option
        >
        <option
          value="Ciencias Naturales, Ciencias Exactas y Ciencias de la Computación"
          >Ciencias Naturales, Ciencias Exactas y Ciencias de la
          Computación</option
        >
        <option value="Tecnologías de la Información y de la Comunicación"
          >Tecnologías de la Información y de la Comunicación</option
        >
        <option value="Ingeniería, Manufactura y Construcción"
          >Ingeniería, Manufactura y Construcción</option
        >
        <option value="Agronomía y Veterinaria">Agronomía y Veterinaria</option>
        <option value="Ciencias de la Salud">Ciencias de la Salud</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Agregar Carrera</button>
  </form>
</div>

<script>
  document.querySelector("form").addEventListener("submit", function (event) {
    event.preventDefault();

    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());

    const token = localStorage.getItem("token");

    fetch("/admin/carrera/add-carrera", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify(data),
    })
      .then((response) => response.json())
      .then((data) => console.log(data))
      .catch((error) => {
        console.error("Error:", error);
      });
  });
</script>
